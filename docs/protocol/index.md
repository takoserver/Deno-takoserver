# Takos Prptpcol

## 概要

Takos Protocolは、分散型システムを維持するために各ノードで最低限必要な通信プロトコルです。
サーバー用api以外のエンドポイントは各ノードで変更しても問題ありません。
この規格で共通化するものは以下の通りです。

- サーバー間通信の署名、エンドポイント
- 基本的なサーバー側のアクション
- E2E暗号化の方法

## 簡単な説明

### サーバー間通信

#### 署名

サーバー間通信は、署名を用いて行います。
各サーバーは、公開鍵を公開することで自身のリクエストであることを証明します。

/takos/activityにオブジェクトをPOSTすることで、サーバー間通信を行います。

:例

request

```json
{
  "type": "getPublicKey",
  "sgin": "signature",
  "data": {
    "timestamp": "timestamp"
  }
}
```

response

```json
{
    "publicKey": jwk
}
```

基本的なサーバー側のアクションは各サーバーが実装する前提で通信を行います。
追加でアクションを実装することにより追加で機能を追加することができます。
追加する場合はtypeの命名に自らのドメイン名を付けることを推奨します。
